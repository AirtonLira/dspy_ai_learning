import random
from collections import defaultdict
from typing import List, Tuple

import dspy

from domain.dataset.schema import DSPyReviewSchema